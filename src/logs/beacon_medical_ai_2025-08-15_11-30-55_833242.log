2025-08-15 11:30:57.669 | INFO     | __main__:main:13 - Starting BeaconMedicalAi AMA application
2025-08-15 11:30:57.669 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 4th Edition
2025-08-15 11:30:57.669 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_4th
2025-08-15 11:30:57.988 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 4th Edition
2025-08-15 11:30:57.989 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_4th
2025-08-15 11:31:08.028 | INFO     | BeaconMedAI.auth.authentication:validate_login:33 - Successful login for user: Tim
2025-08-15 11:31:20.209 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 6th Edition
2025-08-15 11:31:20.210 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_6th
2025-08-15 11:31:31.989 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 6th Edition
2025-08-15 11:31:31.991 | INFO     | BeaconMedAI.core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_6th
2025-08-15 11:31:32.105 | INFO     | BeaconMedAI.core.user_data:__init__:36 - 
==================================================
NEW USER SESSION CREATED
Username: Tim
User ID: 0b1cf4d3-3339-42c6-a8af-9ed2a2fad3b7
==================================================

2025-08-15 11:31:32.105 | INFO     | BeaconMedAI.core.user_data:get_user_data:97 - Created new user data for: Tim
2025-08-15 11:31:32.123 | INFO     | BeaconMedAI.processors.file_processors:process_file:33 - User Tim started processing 1 files
2025-08-15 11:31:32.123 | INFO     | BeaconMedAI.core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-08-15 11:31:32.124 | INFO     | BeaconMedAI.processors.file_processors:process_single_file:52 - Processing file /private/var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/gradio/9853adc70cf79735bb12a4e45f8145aa628d78f2f60ea8af7b816db04666c13f/AMA Sample Medical Report 1.pdf (1/1)
2025-08-15 11:31:32.124 | INFO     | BeaconMedAI.processors.file_processors:get_report_from_pdf:107 - Loading PDF /private/var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/gradio/9853adc70cf79735bb12a4e45f8145aa628d78f2f60ea8af7b816db04666c13f/AMA Sample Medical Report 1.pdf for user Tim
2025-08-15 11:31:32.213 | INFO     | BeaconMedAI.core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-08-15 11:31:32.214 | INFO     | BeaconMedAI.generators.report_generator:get_ama_impairment_report:55 - Generating impairment report for user Tim
2025-08-15 11:31:32.214 | INFO     | BeaconMedAI.core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-08-15 11:31:32.251 | ERROR    | BeaconMedAI.utils.web_utils:no_summarize_content:185 - Error extracting medical terms: 'ChatOpenAI' object has no attribute 'chat'
2025-08-15 11:31:32.251 | INFO     | BeaconMedAI.utils.helpers:get_metadata_filter:267 - Starting metadata filter generation
2025-08-15 11:31:32.264 | ERROR    | BeaconMedAI.utils.helpers:get_metadata_filter:288 - OpenAI API error: 'ChatOpenAI' object has no attribute 'chat'
2025-08-15 11:31:32.268 | ERROR    | BeaconMedAI.utils.helpers:get_metadata_filter:311 - Vector store query failed: 'NoneType' object has no attribute 'similarity_search'
2025-08-15 11:31:32.268 | INFO     | BeaconMedAI.utils.helpers:get_metadata_filter:318 - No chapters found. Using term-based filter.
2025-08-15 11:31:32.268 | INFO     | BeaconMedAI.utils.helpers:get_metadata_filter:320 - Term-based filter: {'terms': ['failed', 'extract', 'medical', 'terms:', "'chatopenai'", 'object', 'has', 'attribute', "'chat'"]}
2025-08-15 11:31:32.268 | INFO     | BeaconMedAI.generators.report_generator:get_ama_impairment_report:98 - Using term-based query: failed extract medical terms: 'chatopenai' object has attribute 'chat'
2025-08-15 11:31:32.268 | INFO     | BeaconMedAI.generators.report_generator:get_ama_impairment_report:102 - Retrieving AMA content with k=3, fetch_k=15, lambda_mult=0.5 based on 112 unique words
2025-08-15 11:31:32.575 | ERROR    | BeaconMedAI.ui.gradio_interface:generate_and_display_report:207 - Error in report generation: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', port=443): Max retries exceeded with url: /encodings/cl100k_base.tiktoken (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x164e83850>: Failed to resolve 'openaipublic.blob.core.windows.net' ([Errno 8] nodename nor servname provided, or not known)"))
