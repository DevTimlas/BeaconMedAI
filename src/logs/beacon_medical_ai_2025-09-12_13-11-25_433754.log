2025-09-12 13:11:32.712 | INFO     | __main__:main:13 - Starting BeaconMedicalAi AMA application
2025-09-12 13:11:32.713 | INFO     | core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 4th Edition
2025-09-12 13:11:32.713 | INFO     | core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_4th
2025-09-12 13:11:33.336 | INFO     | core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 4th Edition
2025-09-12 13:11:33.336 | INFO     | core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_4th
2025-09-12 13:12:07.968 | INFO     | auth.authentication:validate_login:30 - Successful login for user: Tim
2025-09-12 13:13:32.796 | INFO     | ui.gradio_interface:update_preview:411 - Previewing 0 images and 1 PDF
2025-09-12 13:13:37.501 | INFO     | core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 4th Edition
2025-09-12 13:13:37.503 | INFO     | core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_4th
2025-09-12 13:13:37.971 | INFO     | core.user_data:__init__:36 - 
==================================================
NEW USER SESSION CREATED
Username: Tim
User ID: 9a5d9845-f2e0-48fe-a1bc-7c0ea22c90bf
==================================================

2025-09-12 13:13:37.972 | INFO     | core.user_data:get_user_data:97 - Created new user data for: Tim
2025-09-12 13:13:37.999 | INFO     | processors.file_processors:process_file:33 - User Tim started processing 1 files
2025-09-12 13:13:38.016 | INFO     | core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-09-12 13:13:38.030 | INFO     | processors.file_processors:process_single_file:52 - Processing file /private/var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/gradio/9853adc70cf79735bb12a4e45f8145aa628d78f2f60ea8af7b816db04666c13f/AMA Sample Medical Report 1.pdf (1/1)
2025-09-12 13:13:38.031 | INFO     | processors.file_processors:get_report_from_pdf:107 - Loading PDF /private/var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/gradio/9853adc70cf79735bb12a4e45f8145aa628d78f2f60ea8af7b816db04666c13f/AMA Sample Medical Report 1.pdf for user Tim
2025-09-12 13:13:38.193 | INFO     | core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-09-12 13:13:38.194 | INFO     | generators.report_generator:get_ama_impairment_report:55 - Generating impairment report for user Tim
2025-09-12 13:13:38.195 | INFO     | core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-09-12 13:13:41.768 | INFO     | utils.helpers:get_metadata_filter:267 - Starting metadata filter generation
2025-09-12 13:13:44.281 | DEBUG    | utils.helpers:get_metadata_filter:289 - Extracted 15 terms: ['traumatic brain injury', 'mri', 'neurological assessment', 'fractured right clavicle', 'misalignment', 'x-ray', 'lumbar disc herniation', 'disc protrusion', 'pain', 'physical therapy', 'pain management', 'psychological trauma', 'post-accident anxiety', 'depression', 'psychologist']
2025-09-12 13:13:44.291 | ERROR    | utils.helpers:get_metadata_filter:319 - Vector store query failed: 'NoneType' object has no attribute 'similarity_search'
2025-09-12 13:13:44.291 | INFO     | utils.helpers:get_metadata_filter:327 - No chapters found. Using term-based filter.
2025-09-12 13:13:44.291 | INFO     | utils.helpers:get_metadata_filter:329 - Term-based filter: {'terms': ['traumatic brain injury', 'mri', 'neurological assessment', 'fractured right clavicle', 'misalignment', 'x-ray', 'lumbar disc herniation', 'disc protrusion', 'pain', 'physical therapy', 'pain management', 'psychological trauma', 'post-accident anxiety', 'depression', 'psychologist']}
2025-09-12 13:13:44.292 | INFO     | generators.report_generator:get_ama_impairment_report:98 - Using term-based query: traumatic brain injury mri neurological assessment fractured right clavicle misalignment x-ray lumbar disc herniation disc protrusion pain physical therapy pain management psychological trauma post-accident anxiety depression psychologist
2025-09-12 13:13:44.292 | INFO     | generators.report_generator:get_ama_impairment_report:102 - Retrieving AMA content with k=3, fetch_k=15, lambda_mult=0.5 based on 112 unique words
2025-09-12 13:14:00.060 | INFO     | generators.report_generator:get_ama_impairment_report:107 - Initially retrieved 6 documents
2025-09-12 13:14:03.269 | INFO     | generators.report_generator:get_ama_impairment_report:111 - Reranked to 3 documents
2025-09-12 13:14:08.338 | ERROR    | ui.gradio_interface:generate_and_display_rebuttals:375 - Error in rebuttal generation: Error code: 400 - {'error': {'message': 'The model `llama-3.3-70b-versatile` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
2025-09-12 13:14:08.352 | INFO     | ui.gradio_interface:generate_and_display_rebuttals:391 - Deleted uploaded file: /private/var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/gradio/9853adc70cf79735bb12a4e45f8145aa628d78f2f60ea8af7b816db04666c13f/AMA Sample Medical Report 1.pdf
2025-09-12 13:14:08.353 | INFO     | ui.gradio_interface:generate_and_display_rebuttals:395 - Cleaned up temporary directory: /var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/tmpldojfojd
