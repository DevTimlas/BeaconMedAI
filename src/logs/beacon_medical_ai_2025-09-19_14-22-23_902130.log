2025-09-19 14:22:26.954 | INFO     | core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 4th Edition
2025-09-19 14:22:26.954 | INFO     | core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_4th
2025-09-19 14:22:37.917 | INFO     | auth.authentication:validate_login:30 - Successful login for user: Tim
2025-09-19 14:22:37.918 | INFO     | __main__:login:120 - User Tim logged in
2025-09-19 14:22:47.568 | INFO     | core.vectorstore:initialize_vectorstore_for_edition:103 - Initializing vectorstore for 4th Edition
2025-09-19 14:22:47.568 | INFO     | core.vectorstore:initialize_vectorstore:86 - Loading existing vectorstore from /Users/mac/fivv/drmichelrice/BeaconMedAI/src/data/vectorstore_8k_batch_4th
2025-09-19 14:22:47.719 | INFO     | core.user_data:__init__:36 - 
==================================================
NEW USER SESSION CREATED
Username: Tim
User ID: 505b3117-0563-4d8f-b4f9-ae067962aff0
==================================================

2025-09-19 14:22:47.719 | INFO     | core.user_data:get_user_data:97 - Created new user data for: Tim
2025-09-19 14:22:47.720 | INFO     | __main__:generate:188 - Saved file: /var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/tmpxe88nbk6/AMA_Sample_Medical_Report_1.pdf, size: 54.98 KB
2025-09-19 14:22:47.721 | INFO     | __main__:collect_file_results:69 - Processing file: /var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/tmpxe88nbk6/AMA_Sample_Medical_Report_1.pdf, size: 54.98 KB
2025-09-19 14:22:47.721 | INFO     | processors.file_processors:process_file:33 - User Tim started processing 1 files
2025-09-19 14:22:47.721 | INFO     | __main__:__call__:50 - Progress: Processing file (0.0/None None)
2025-09-19 14:22:47.722 | INFO     | core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-09-19 14:22:47.722 | INFO     | __main__:__call__:50 - Progress: Processing file (0.1/None None)
2025-09-19 14:22:47.722 | INFO     | processors.file_processors:process_single_file:52 - Processing file /var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/tmpxe88nbk6/AMA_Sample_Medical_Report_1.pdf (1/1)
2025-09-19 14:22:47.722 | INFO     | __main__:__call__:50 - Progress: Processing file (0.05/None None)
2025-09-19 14:22:47.722 | INFO     | processors.file_processors:get_report_from_pdf:107 - Loading PDF /var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/tmpxe88nbk6/AMA_Sample_Medical_Report_1.pdf for user Tim
2025-09-19 14:22:47.761 | INFO     | core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-09-19 14:22:47.761 | INFO     | __main__:__call__:50 - Progress: Getting report (0.3/None None)
2025-09-19 14:22:47.761 | INFO     | __main__:__call__:50 - Progress: Getting report (0.05/None None)
2025-09-19 14:22:47.761 | INFO     | generators.report_generator:get_ama_impairment_report:55 - Generating impairment report for user Tim
2025-09-19 14:22:47.761 | INFO     | core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-09-19 14:22:47.762 | INFO     | __main__:__call__:50 - Progress: Getting report (0.1/None None)
2025-09-19 14:22:52.525 | INFO     | __main__:__call__:50 - Progress: Getting report (0.2/None None)
2025-09-19 14:22:52.525 | INFO     | __main__:__call__:50 - Progress: Getting report (0.3/None None)
2025-09-19 14:22:52.525 | INFO     | utils.helpers:get_metadata_filter:267 - Starting metadata filter generation
2025-09-19 14:22:55.237 | DEBUG    | utils.helpers:get_metadata_filter:288 - Extracted 20 terms: ['traumatic brain injury', 'symptoms', 'headaches', 'dizziness', 'cognitive difficulties', 'mri scan', 'neurological assessment', 'fractured right clavicle', 'misalignment', 'x-ray imaging', 'pain', 'limited range of motion', 'lumbar disc herniation', 'disc protrusion', 'radiating pain', 'lower extremities', 'physical therapy', 'pain management', 'psychological trauma', 'post-accident anxiety']
2025-09-19 14:22:55.238 | WARNING  | utils.helpers:get_metadata_filter:334 - No chapters found; using term-based filter only.
2025-09-19 14:22:55.238 | INFO     | utils.helpers:get_metadata_filter:335 - Term-based filter: {'terms': ['brain', 'pain', 'psychological trauma', 'cognitive difficulties', 'clavicle', 'lumbar disc herniation', 'neurological', 'cognitive', 'x-ray imaging', 'pain management', 'mri', 'assessment', 'neurological assessment', 'fractured right clavicle', 'misalignment', 'symptoms', 'difficulties', 'radiating pain', 'dizziness', 'scan']}
2025-09-19 14:22:55.238 | INFO     | generators.report_generator:get_ama_impairment_report:101 - Using term-based query: brain pain psychological trauma cognitive difficulties clavicle lumbar disc herniation neurological cognitive x-ray imaging pain management mri assessment neurological assessment fractured right clavicle misalignment symptoms difficulties radiating pain dizziness scan
2025-09-19 14:22:55.238 | INFO     | generators.report_generator:get_ama_impairment_report:105 - Retrieving AMA content with k=3, fetch_k=15, lambda_mult=0.5 based on 112 unique words
2025-09-19 14:23:00.444 | INFO     | generators.report_generator:get_ama_impairment_report:110 - Initially retrieved 6 documents
2025-09-19 14:23:00.444 | INFO     | __main__:__call__:50 - Progress: Getting report (0.35/None None)
2025-09-19 14:23:01.944 | INFO     | generators.report_generator:get_ama_impairment_report:114 - Reranked to 3 documents
2025-09-19 14:23:01.953 | INFO     | __main__:__call__:50 - Progress: Getting report (0.4/None None)
2025-09-19 14:23:04.133 | INFO     | __main__:__call__:50 - Progress: Getting report (0.5/None None)
2025-09-19 14:23:04.134 | INFO     | __main__:__call__:50 - Progress: Getting report (0.6/None None)
2025-09-19 14:23:08.663 | INFO     | generators.report_generator:get_ama_impairment_report:152 - Generated impairment report for user Tim
2025-09-19 14:23:08.664 | INFO     | __main__:__call__:50 - Progress: Getting report (0.9/None None)
2025-09-19 14:23:08.670 | INFO     | __main__:__call__:50 - Progress: Getting report (1.0/None None)
2025-09-19 14:23:08.688 | INFO     | __main__:__call__:50 - Progress: Getting report (1.0/None None)
2025-09-19 14:23:08.689 | INFO     | __main__:__call__:50 - Progress: Processing file (0.9/None None)
2025-09-19 14:23:08.689 | INFO     | __main__:__call__:50 - Progress: Getting report (0.1/None None)
2025-09-19 14:23:08.689 | INFO     | generators.combiner:get_combine_reports:30 - Combining reports for user Tim
2025-09-19 14:23:08.689 | INFO     | core.user_data:get_user_data:99 - Retrieved existing user data for: Tim
2025-09-19 14:23:08.703 | INFO     | generators.combiner:get_combine_reports:45 - Similarity with previous input 1: 0.4008
2025-09-19 14:23:08.703 | INFO     | __main__:__call__:50 - Progress: Getting report (0.2/None None)
2025-09-19 14:23:08.704 | INFO     | __main__:__call__:50 - Progress: Getting report (0.3/None None)
2025-09-19 14:23:49.391 | INFO     | generators.combiner:get_combine_reports:89 - Generated combined report for user Tim
2025-09-19 14:23:49.393 | INFO     | __main__:__call__:50 - Progress: Getting report (0.9/None None)
2025-09-19 14:23:49.395 | INFO     | __main__:__call__:50 - Progress: Getting report (1.0/None None)
2025-09-19 14:23:49.410 | INFO     | __main__:__call__:50 - Progress: Processing file (1.0/None None)
2025-09-19 14:23:55.007 | INFO     | __main__:generate:246 - Deleted uploaded file: /var/folders/gg/t11kyrr16ndcf_c64k2qtbr40000gn/T/tmpxe88nbk6/AMA_Sample_Medical_Report_1.pdf
